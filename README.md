![Logo](1.png)
# Работа с Git

## 1. Проверка наличия установленного GIt 
В терминале выполнить команду `git version`
Если git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git.
Загружем последнюю версию Git с сайта https://git-scm.com/downlosds.
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git
При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале две  команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```

## 4. Инициализация репозитория
Необходимо пройти в папку проекта при помощи команды `cd <путь_к_вашему_проекту>` , после чего ввести команду `git init`

## 5. Запись изменений в репозиторий
Чтобы добавить все файлы проекта в нам будующий commit `git add .`  Или так  `git add --all`

Если хотим добавить конкретный файл то можно так `git add <имя_файла> `

Теперь создаем commit. Обязательно указываем комментарий. И не забываем про кавычки `git commit -m "<комментарий>"`

Не стоит после каждого изменения файла делать commit. Чаще всего их создают, когда:

* Создан новый функционал
* Добавлен новый блок на верстке
* Исправлены ошибки по коду
* Вы завершили рабочий день и хотите сохранить код

Это поможет держать вашу ветки в чистоте и порядке. Тем самым, вы будете видеть историю изменений по каждому нововведению в вашем проекте, а не по каждому файлу.

## 6. Просмотр изменений
Для того чтобы посмотреть текущее состояние ветки, например, какие файлы добавлены или не добавлены для создания commit, можно выполнить команду: `git status`
Просмотреть различия между двумя коммитами и не только можно командой `git diff`
## 7. Работа с сохранениями
Для просмотра истории коммитов используется команда `git log`, или, для более компактного, но менее информативного вывода `git log --oneline`
Результатом работы будет список всех коммитов с комментариями.
```
f7e5551 (HEAD -> master) Added subtitle 6
ddd01cc Added subtitle 5
```
Для просмотра предыдущих версий необходимо выполнить команду `git checkout` и дополнить её символами идентификаторами коммита `ddd01cc`.
Вернуться к актуальной версии поможет выполнение команды `git checkout master` или `git switch -`

## 8 Работа с ветками
Ветки - это отдельное место для реализации нового функционала или исправление ошибок основного проекта. 

Для того, чтобы создать новую ветку используется команда
```
git branch <название_ветки>

или

git checkout -b <название_ветки>
```
Второй вариант позволяет сразу переключиться в новую ветку. Вносить изменения в новую ветку можно сразу после ее создания.

Переключаться между ветками можно такой командой: `git checkout <название_ветки>`

Команда `merge` берет все изменения из ветки и добавляет их в ветку master

После завершения работы над задачей, ветку можно слить в master . Для этого нужно переключиться в ветку master и выполнить следующую команду:

Переключаемся в master `git checkout master`

### Слить ветки, в ветку в которой вы находитесь

`git merge <название_ветки>`

### Просмотреть изменения относительно двух веток можно командой:

`git diff <исходная_ветка> <целевая_ветка>`

### Удалить ненужную ветку:

`git branch -d <название_ветки>`

Не получится удалить ветку в которой находишься, перед удалением локальной ветки необходимо переключиться на другую, которую не собираешься удалять.

Если в ветке присутствуют несмерженные изменения или незапушенные коммиты, флаг -d не позволит удалить такую локальную ветку.

Это связано с тем, что эти коммиты нигде более не отслеживаются, и Git защищает от случайной потери этих данных.

Флаг -D с большой D (сокращенная запись опции --delete --force), принудительно удаляет локальную ветку, вне зависимости от ее статуса мержа.

Используйте данную команду с осторожностью: после её ввода у вас не будут просить подтверждение удаления. Прибегайте к ней только когда абсолютно уверены, что хотите удалить локальную ветку.

Если вы не объединили её с другой локальной веткой или не запушили изменения в удаленный репозиторий, вы рискуете потерять все произведённые изменения.

### Просмотр истории ветки:

`git log`  

Просмотр в более удобном, но менее информативном формате

`git log --graph --oneline`

## 9. Конфликты

Git старается автоматически сливать изменения, однако это не всегда возможно. Иногда возникают конфликты. Например, когда в двух ветках были изменения в одной и той же строчке кода. Если такое произошло, то необходимо разрешить конфликт вручную.

![merge conflict](merge_conflict.jpg)

Также, существет merge editor

![merge editor](merge_editor.jpg)

После разрешения конфликта необходимо выполнить коммит слияния.

## 10. In case of emergency

Если всё пропало, и какой-то commit оказался "исчезнут" тем или иным способом 

Существует команда `git reflog` , показывающая перемещения HEAD

```
031e3ed (HEAD -> new_branch_2, new_branch_1) HEAD@{0}: checkout: moving from new_branch_1 to new_branch_2
031e3ed (HEAD -> new_branch_2, new_branch_1) HEAD@{1}: commit: 10th subtitle
4637ec8 (image_branch) HEAD@{2}: checkout: moving from image_branch to new_branch_1
4637ec8 (image_branch) HEAD@{3}: commit: space
6471f34 (master) HEAD@{4}: checkout: moving from master to image_branch
6471f34 (master) HEAD@{5}: merge about_conflicts_branch: Fast-forward
a557fee HEAD@{6}: checkout: moving from about_conflicts_branch to master
6471f34 (master) HEAD@{7}: merge image_branch: Fast-forward
```
Там будет видно все коммиты, даже потерянные

## 11. Игнорирование файлов

Чтобы git игнорировал файлы (не требовал их закоммитить) необходимо создать файл .gitignore в папке git и в самом фале указать названия файлов или расширения, которые нужно будет игнорировать.
```
*.png
*.jpg
git_logo.png
```

## 12. Картинки

При помощи команды типа `![Logo](git_logo.png)` можно добавить картинку
Для этого необходимо в папку с .git добавить файл и указать его название в круглых скобках.

## 13. Работа с удаленными репозиториями

Чтобы иметь возможность совместной работы над каким-либо Git-проектом, необходимо знать как управлять удалёнными репозиториями. Удалённые репозитории — это модификации проекта, которые хранятся где-то в сети. Их может быть несколько, каждый из которых как правило доступен либо только на чтение, либо на чтение и запись. Совместная работа включает в себя управление удалёнными репозиториями, помещение (push) и получение (pull) данных в и из них тогда, когда нужно обменяться результатами работы.

Подключение к удаленному репозиторию.

Для загрузки данных в удаленный репозиторию сначала нужно к нему подключиться. 

Для того, чтобы связать созданный локальный репозиторий с удаленным, выполним такую команду:

`git remote add origin <repository_url>`

Клонировать удаленный репозиторий
Получить полную копию можно при помощи команды clone:

`git clone <repository_url>`

GitHub автоматически создаст новый локальный репозиторий в виде удаленного на собственном сервере.

Отправка изменения в удаленный репозиторий.

После создания коммита в локальном репозитории и подключения к удаленному, нужно обновить данные в удалённом репозитории.

Отправка коммита осуществляется с помощью команды `push`, которая имеет два параметра - имя удаленного репозитория (origin) и ветку, в которую необходимо внести изменения (main).

`git push origin main`

```
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 12 threads
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 408 bytes | 408.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/Foxlarr/TestPullRequest.git
   51fc45c..6de697e  main -> main
```
Если использовать просто команду `git push`, то может выдать ошибку
```
fatal: The current branch new has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin new
```
Такое происходит, если в удалённом репозитории нет такой ветки, git предлагает использлвать команду `git push --set-upstream origin new` чтобы эту ветку создать.

Запрос изменений с удаленного репозитория.

Для получения информации об изменениях, испольуется команда `pull`

Она скачивает новые изменения. 

### Запрос на вливание вашей ветки в основную ветку исходного репозитория (удаленныи репозитори)
Для отправке запроса на вливание изменений из вашей ветки в основную ветку исходного репозитория используется команда: pull request

* fork репозитория
* clone своей версии репозитория
* Создаешь новую ветку и вносишь свои изменения
* Commit
* Отправляешь свою версию в свой GitHub
* На сайте GitHub нажимаем кнопку pull request

### 14. Добавление своей работы в GitHub

Чтобы залить свою работу в GitHub, нужно создать свой акаунт на GitHub и сконнектить GitHub с твоим репозиторием:

`git remote add origin <repository_url> указывает имя и ссылку на репозитори и связывает акаунт с локальным файлом.

`git branch -M new` сливает ветку main с основной.

`git push -u origin new`  отправляет изменение в репозитори.